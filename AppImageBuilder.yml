version: 1
script:
  # Workaround for error in Github Actions (https://github.com/AppImageCrafters/appimage-builder/issues/271)
  - which mksquashfs || apt install squashfs-tools

AppDir:
  path: AppDir 
  app_info:
    id: com.el2zay.fileweightloss
    name: FileWeightLoss
    icon: ./assets/app_icon.png
    version: 2.0.0
    exec: fileweightloss 
  runtime:
    env:
      PATH: "$APPDIR/usr/bin:$PATH"

ingredients:
  script:
    - mkdir -p AppDir/usr/bin
    - cp -r build/linux/x64/release/bundle/* AppDir/ 

  sources:
    - path: build/linux/x64/release/bundle/ 

script:
  - echo "Building AppImage..."
  - chmod +x AppDir/fileweightloss
